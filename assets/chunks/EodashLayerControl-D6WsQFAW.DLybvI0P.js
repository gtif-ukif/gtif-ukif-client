const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/main.DxhBHdyj.js","assets/chunks/lit-element.CIht5NN8.js","assets/chunks/when.BR7zwNJC.js","assets/chunks/repeat.9Pq2frlr.js","assets/chunks/directive.CvdRHFdJ.js","assets/chunks/directive-helpers.BMu_cjfm.js","assets/chunks/unsafe-html.RlppLW26.js","assets/chunks/map.DiiNQ3pp.js","assets/chunks/commonjsHelpers.BosuxZz1.js","assets/chunks/index.BUIxO2d3.js","assets/chunks/getElement.CdRlZPdn.js","assets/chunks/addCommonStyleSheet.Bb-Xf-sd.js","assets/chunks/main.CIgxcoAQ.js","assets/chunks/browser.CQpScIU-.js","assets/chunks/toolcool-range-slider.min.BBXDELo7.js","assets/chunks/utils.BJtOAKhC.js","assets/chunks/index.CxojoGlr.js","assets/chunks/index.DCVKSTf4.js"])))=>i.map(i=>d[i]);
var G=Object.defineProperty;var J=(n,t,e)=>t in n?G(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var y=(n,t,e)=>J(n,typeof t!="symbol"?t+"":t,e);import{ao as F,h as U,p as K,c as E,o as w,e as V,K as X,k as v,r as Q,j as D,t as Y,a5 as L}from"./framework.CqSXN63J.js";import"./index.DBo72WSd.js";import"./main.CwahwWm0.js";import{_ as Z,s as tt,a as et,r as I,o as S,h as st,g as it,t as nt,v as at,w as ot}from"./eo-dash.BzRh9ylp.js";import"./lit-element.CIht5NN8.js";import"./sequential.BcvVcPN9.js";import"./directive.CvdRHFdJ.js";import"./addCommonStyleSheet.Bb-Xf-sd.js";import"./dayjs.min.Ba62AOpW.js";import"./commonjsHelpers.BosuxZz1.js";import"./vis-timeline-graph2d.DIUlBtP0.js";import"./when.BR7zwNJC.js";import"./map.DiiNQ3pp.js";import"./toolcool-range-slider.min.BBXDELo7.js";import"./getElement.CdRlZPdn.js";import"./index.DCVKSTf4.js";import"./item.Bx-rtsOD.js";function P(n){return!(n===null||typeof n!="object"||n.nodeType||n===n.window||n.constructor&&!C(n.constructor.prototype,"isPrototypeOf"))}function R(n){return P(n)?k({},n):Array.isArray(n)?n.map(R):n}function k(n,...t){return t.forEach(e=>{e&&Object.keys(e).forEach(s=>{e[s]&&P(e[s])?(C(n,s)||(n[s]={}),k(n[s],e[s])):Array.isArray(e[s])?n[s]=R(e[s]):n[s]=e[s]})}),n}function C(n,t){return n&&Object.prototype.hasOwnProperty.call(n,t)}class rt{constructor(t,e){this.defaults=e,this.jsoneditor=t.jsoneditor,this.theme=this.jsoneditor.theme,this.template_engine=this.jsoneditor.template,this.iconlib=this.jsoneditor.iconlib,this.translate=this.jsoneditor.translate||this.defaults.translate,this.translateProperty=this.jsoneditor.translateProperty||this.defaults.translateProperty,this.original_schema=t.schema,this.schema=this.jsoneditor.expandSchema(this.original_schema),this.active=!0,this.isUiOnly=!1,this.options=k({},this.options||{},this.schema.options||{},t.schema.options||{},t),this.enforceConstEnabled=this.options.enforce_const??this.jsoneditor.options.enforce_const,this.formname=this.jsoneditor.options.form_name_root||"root",!t.path&&!this.schema.id&&(this.schema.id=this.formname),this.path=t.path||this.formname,this.formname=t.formname||this.path.replace(/\.([^.]+)/g,"[$1]"),this.parent=t.parent,this.key=this.parent!==void 0?this.path.split(".").slice(this.parent.path.split(".").length).join("."):this.path,this.link_watchers=[],this.watchLoop=!1,this.optInWidget=this.options.opt_in_widget??this.jsoneditor.options.opt_in_widget,t.container&&this.setContainer(t.container),this.registerDependencies()}onChildEditorChange(t,e){this.onChange(!0,!1,e)}notify(){this.path&&this.jsoneditor.notifyWatchers(this.path)}change(t){this.parent?this.parent.onChildEditorChange(this,t):this.jsoneditor&&this.jsoneditor.onChange(t)}onChange(t,e,s){this.notify(),e||this.watch_listener&&this.watch_listener(),t&&this.change(s)}register(){if(this.jsoneditor.registerEditor(this),this.input&&!this.label){const t=this.getTitle()||this.formname;this.input.setAttribute("aria-label",t)}this.onChange()}unregister(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)}getNumColumns(){return 12}isActive(){return this.active}activate(){this.active=!0,this.optInCheckbox.checked=!0,this.enable(),this.change()}deactivate(){this.isRequired()||(this.active=!1,this.optInCheckbox.checked=!1,this.disable(),this.change())}registerDependencies(){this.dependenciesFulfilled=!0;const t=this.options.dependencies;t&&Object.keys(t).forEach(e=>{let s;e.startsWith(this.jsoneditor.root.path)?s=e:(s=this.path.split("."),s[s.length-1]=e,s=s.join(".")),this.jsoneditor.watch(s,()=>{this.evaluateDependencies()})})}evaluateDependencies(){const t=this.container||this.control;if(!t||this.jsoneditor===null)return;const e=this.options.dependencies;if(!e)return;const s=this.dependenciesFulfilled;this.dependenciesFulfilled=!0,Object.keys(e).forEach(i=>{let o;i.startsWith(this.jsoneditor.root.path)?o=i:(o=this.path.split("."),o[o.length-1]=i,o=o.join("."));const c=e[i];this.checkDependency(o,c)}),this.dependenciesFulfilled!==s&&this.notify();let a=this.dependenciesFulfilled?"block":"none";this.options.hidden&&(a="none"),t.tagName==="TD"?Object.keys(t.childNodes).forEach(i=>t.childNodes[i].style.display=a):t.style.display=a}checkDependency(t,e){if(this.path===t||this.jsoneditor===null)return;const s=this.jsoneditor.getEditor(t),a=s?s.getValue():void 0;!s||!s.dependenciesFulfilled||!a?this.dependenciesFulfilled=!1:Array.isArray(e)?this.dependenciesFulfilled=e.some(i=>{if(JSON.stringify(a)===JSON.stringify(i))return!0}):typeof e=="object"?typeof a!="object"?this.dependenciesFulfilled=e===a:Object.keys(e).some(i=>{if(!C(e,i))return!1;if(!C(a,i)||e[i]!==a[i])return this.dependenciesFulfilled=!1,!0}):typeof e=="string"||typeof e=="number"?this.dependenciesFulfilled=this.dependenciesFulfilled&&a===e:typeof e=="boolean"&&(e?this.dependenciesFulfilled=this.dependenciesFulfilled&&(a||a.length>0):this.dependenciesFulfilled=this.dependenciesFulfilled&&(!a||a.length===0))}setContainer(t){this.container=t,this.setContainerAttributes(),this.schema.id&&this.container.setAttribute("data-schemaid",this.schema.id),this.schema.type&&typeof this.schema.type=="string"&&this.container.setAttribute("data-schematype",this.schema.type),this.container.setAttribute("data-schemapath",this.path)}setOptInCheckbox(){let t;this.optInWidget==="switch"?t=this.theme.getOptInSwitch(this.formname):t=this.theme.getOptInCheckbox(this.formname),this.optInCheckbox=t.checkbox,this.optInContainer=t.container,this.optInCheckbox.addEventListener("click",()=>{this.isActive()?this.deactivate():this.activate()});const e=this.jsoneditor.options.show_opt_in,s=typeof this.parent.options.show_opt_in<"u",a=s&&this.parent.options.show_opt_in===!0,i=s&&this.parent.options.show_opt_in===!1;(a||!i&&e||!s&&e)&&this.parent&&this.parent.schema.type==="object"&&!this.isRequired()&&this.header&&(this.header.insertBefore(this.optInContainer,this.header.firstChild),this.optInAppended=!0)}preBuild(){}build(){}postBuild(){this.setupWatchListeners(),this.addLinks(),this.register(),this.setValue(this.getDefault(),!0),this.updateHeaderText(),this.onWatchedFieldChange(),this.options.titleHidden&&(this.theme.visuallyHidden(this.label),this.theme.visuallyHidden(this.header)),this.enforceConstEnabled&&this.schema.const&&this.disable()}setupWatchListeners(){if(this.watched={},this.schema.vars&&(this.schema.watch=this.schema.vars),this.watched_values={},this.watch_listener=()=>{this.refreshWatchedFieldValues()&&this.onWatchedFieldChange()},C(this.schema,"watch")){let t,e,s,a,i;const o=this.container.getAttribute("data-schemapath");Object.keys(this.schema.watch).forEach(r=>{if(t=this.schema.watch[r],Array.isArray(t)){if(t.length<2)return;e=[t[0]].concat(t[1].split("."))}else e=t.split("."),this.theme.closest(this.container,`[data-schemaid="${e[0]}"]`)||e.unshift("#");if(s=e.shift(),s==="#"&&(s=this.jsoneditor.schema.id||this.jsoneditor.root.formname),a=this.theme.closest(this.container,`[data-schemaid="${s}"]`),!a)throw new Error(`Could not find ancestor node with id ${s}`);i=`${a.getAttribute("data-schemapath")}.${e.join(".")}`,o.startsWith(i)&&(this.watchLoop=!0),this.jsoneditor.watch(i,this.watch_listener),this.watched[r]=i})}this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))}addLinks(){if(!this.no_link_holder&&(this.link_holder=this.theme.getLinksHolder(),typeof this.description<"u"?this.description.parentNode.insertBefore(this.link_holder,this.description):this.container.appendChild(this.link_holder),this.schema.links))for(let t=0;t<this.schema.links.length;t++)this.addLink(this.getLink(this.schema.links[t]))}onMove(){}getButton(t,e,s,a=[]){const i=`json-editor-btn-${e}`;this.iconlib?e=this.iconlib.getIcon(e):e=null,t=this.translate(t,a),s=this.translate(s,a),!e&&s&&(t=s,s=null);const o=this.theme.getButton(t,e,s);return o.classList.add(i),o}setButtonText(t,e,s,a,i=[]){return this.iconlib?s=this.iconlib.getIcon(s):s=null,e=this.translate(e,i),a=this.translate(a,i),!s&&a&&(e=a,a=null),this.theme.setButtonText(t,e,s,a)}addLink(t){this.link_holder&&this.link_holder.appendChild(t)}getLink(t){let e,s;const i=(t.mediaType||"application/javascript").split("/")[0],o=this.jsoneditor.compileTemplate(t.href,this.template_engine),r=this.jsoneditor.compileTemplate(t.rel?t.rel:t.href,this.template_engine);let c=null;if(t.download&&(c=t.download),c&&c!==!0&&(c=this.jsoneditor.compileTemplate(c,this.template_engine)),i==="image"){e=this.theme.getBlockLinkHolder(),s=document.createElement("a"),s.setAttribute("target","_blank");const h=document.createElement("img");this.theme.createImageLink(e,s,h),this.link_watchers.push(l=>{const d=o(l),u=r(l);s.setAttribute("href",d),s.setAttribute("title",u||d),h.setAttribute("src",d)})}else if(["audio","video"].includes(i)){e=this.theme.getBlockLinkHolder(),s=this.theme.getBlockLink(),s.setAttribute("target","_blank");const h=document.createElement(i);h.setAttribute("controls","controls"),this.theme.createMediaLink(e,s,h),this.link_watchers.push(l=>{const d=o(l),u=r(l);s.setAttribute("href",d),s.textContent=u||d,h.setAttribute("src",d)})}else s=e=this.theme.getBlockLink(),e.setAttribute("target","_blank"),e.textContent=t.rel,e.style.display="none",this.link_watchers.push(h=>{const l=o(h),d=r(h);l&&(e.style.display=""),e.setAttribute("href",l),e.textContent=d||l});return c&&s&&(c===!0?s.setAttribute("download",""):this.link_watchers.push(h=>{s.setAttribute("download",c(h))})),t.class&&t.class.split(" ").forEach(l=>{s.classList.add(l)}),e}refreshWatchedFieldValues(){if(!this.watched_values)return;const t={};let e=!1;return this.watched&&Object.keys(this.watched).forEach(s=>{const a=this.jsoneditor.getEditor(this.watched[s]),i=a?a.getValue():null;this.watched_values[s]!==i&&(e=!0),t[s]=i}),t.self=this.getValue(),this.watched_values.self!==t.self&&(e=!0),this.watched_values=t,e}getWatchedFieldValues(){return this.watched_values}updateHeaderText(){if(this.header){const t=this.getHeaderText();if(this.header.children.length){for(let e=0;e<this.header.childNodes.length;e++)if(this.header.childNodes[e].nodeType===3){this.header.childNodes[e].nodeValue=this.cleanText(t);break}}else window.DOMPurify?this.header.innerHTML=window.DOMPurify.sanitize(t):this.header.textContent=this.cleanText(t)}}getHeaderText(t){return this.header_text?this.header_text:t?this.translateProperty(this.schema.title):this.getTitle()}getPathDepth(){return this.path.split(".").length}cleanText(t){const e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText}onWatchedFieldChange(){let t;if(this.header_template){t=k(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:this.key*1,i1:this.key*1+1,title:this.getTitle()}),this.editors&&Object.keys(this.editors).length&&(t.properties={},Object.keys(this.editors).forEach(s=>{const a=this.editors[s];if(a.schema&&a.schema.enum&&a.schema.options&&a.schema.options.enum_titles){const i=a.schema.enum.indexOf(a.value),o=a.options.enum_titles[i];t.properties[s]={enumTitle:o}}}));const e=this.header_template(t);e!==this.header_text&&(this.header_text=e,this.updateHeaderText(),this.notify())}if(this.link_watchers.length){t=this.getWatchedFieldValues();for(let e=0;e<this.link_watchers.length;e++)this.link_watchers[e](t)}}setValue(t){t=this.applyConstFilter(t),this.value=t}applyConstFilter(t){return this.enforceConstEnabled&&typeof this.schema.const<"u"&&(t=this.schema.const),t}getValue(){if(this.dependenciesFulfilled)return this.value}refreshValue(){}getChildEditors(){return!1}destroy(){this.unregister(this),this.watched&&Object.values(this.watched).forEach(t=>this.jsoneditor.unwatch(t,this.watch_listener)),this.watched=null,this.watched_values=null,this.watch_listener=null,this.header_text=null,this.header_template=null,this.value=null,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.key=null,this.parent=null}isDefaultRequired(){return this.isRequired()||!!this.jsoneditor.options.use_default_values}getDefault(){if(this.enforceConstEnabled&&this.schema.const)return this.schema.const;if(typeof this.schema.default<"u")return this.schema.default;if(typeof this.schema.enum<"u")return this.schema.enum[0];let t=this.schema.type||this.schema.oneOf;if(t&&Array.isArray(t)&&(t=t[0]),t&&typeof t=="object"&&(t=t.type),t&&Array.isArray(t)&&(t=t[0]),typeof t=="string"){if(t==="number")return this.isDefaultRequired()?0:void 0;if(t==="boolean")return this.isDefaultRequired()?!1:void 0;if(t==="integer")return this.isDefaultRequired()?0:void 0;if(t==="string")return this.isDefaultRequired()?"":void 0;if(t==="null")return null;if(t==="object")return{};if(t==="array")return[]}}getTitle(){return this.translateProperty(this.schema.title||this.key||this.formname)}enable(){this.disabled=!1}disable(){this.disabled=!0}isEnabled(){return!this.disabled}isRequired(){return typeof this.schema.required=="boolean"?this.schema.required:this.parent&&this.parent.schema&&Array.isArray(this.parent.schema.required)?this.parent.schema.required.includes(this.key):!!this.jsoneditor.options.required_by_default}getDisplayText(t){const e=[],s={};t.forEach(i=>{i.title&&(s[i.title]=s[i.title]||0,s[i.title]++),i.description&&(s[i.description]=s[i.description]||0,s[i.description]++),i.format&&(s[i.format]=s[i.format]||0,s[i.format]++),i.type&&(s[i.type]=s[i.type]||0,s[i.type]++)}),t.forEach(i=>{let o;typeof i=="string"?o=i:i.title&&s[i.title]<=1?o=i.title:i.format&&s[i.format]<=1?o=i.format:i.type&&s[i.type]<=1?o=i.type:i.description&&s[i.description]<=1?o=i.description:i.title?o=i.title:i.format?o=i.format:i.type?o=i.type:i.description?o=i.description:JSON.stringify(i).length<500?o=JSON.stringify(i):o="type",e.push(o)});const a={};return e.forEach((i,o)=>{a[i]=a[i]||0,a[i]++,s[i]>1&&(e[o]=`${i} ${a[i]}`)}),e}getValidId(t){return t=t===void 0?"":t.toString(),t.replace(/\s+/g,"-")}setInputAttributes(t,e){if(this.schema.options&&this.schema.options.inputAttributes){const s=this.schema.options.inputAttributes,a=["name","type"].concat(t),i=e||this.input;Object.keys(s).forEach(o=>{a.includes(o.toLowerCase())||i.setAttribute(o,s[o])})}}setContainerAttributes(){if(this.schema.options&&this.schema.options.containerAttributes){const t=this.schema.options.containerAttributes,e=["data-schemapath","data-schematype","data-schemaid"];Object.keys(t).forEach(s=>{e.includes(s.toLowerCase())||this.container.setAttribute(s,t[s])})}}expandCallbacks(t,e){const s=this.defaults.callbacks[t];return Object.entries(e).forEach(([a,i])=>{i===Object(i)?e[a]=this.expandCallbacks(t,i):typeof i=="string"&&typeof s=="object"&&typeof s[i]=="function"&&(e[a]=s[i].bind(null,this))}),e}showValidationErrors(t){}}function lt(n,t){var a,i,o,r;const e=t==="bands"?(a=n.items)==null?void 0:a.enum:n.enum||[],s=t==="bands"?(o=(i=n.items)==null?void 0:i.options)==null?void 0:o.colors:((r=n.options)==null?void 0:r.colors)||[];return s&&s.length===e.length?s:e.map(()=>"#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0"))}function ht(n,t,e){const s=t.indexOf(n);return s!==-1?e[s]:"#000000"}function N(n,t){const e=document.createElement("div");return e.dataset.band=n,e.textContent=t,e.draggable=!0,e.ondragstart=s=>{var a;(a=s.dataTransfer)==null||a.setData("band",n)},e}function W(n,t,e){t.forEach((s,a)=>{var r;const i=e[a],o=N(s,i);(r=n.control)==null||r.appendChild(o)})}function H(n,t){const e=document.createElement("style");return e.innerHTML=`
    /* Base styles for all band elements */
    [data-band] {
      display: inline-flex;
      border: 1px solid darkgrey;
      border-radius: 50%;
      height: 40px;
      aspect-ratio: 1/1;
      padding: 4px;
      margin: 2px;
      align-items: center;
      justify-content: center;
      cursor: move;
      font-size: 10px;
    }

    /* Band color styles */
    ${n.map(s=>`[data-band="${s}"] { background: ${ht(s,n,t)}; color: black; }`).join(`
`)}

    /* RGB slot styles */
    [data-slot] {
      display: inline-flex;
      width: 50px;
      height: 50px;
      aspect-ratio: 1/1;
      padding: 1px;
      border: 2px solid #666;
      background: #f0f0f0;
      border-radius: 50%;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      margin: 2px;
      position: relative;
      box-sizing: border-box;
    }
    [data-slot]:hover {
      border-color: #333;
      background: #f9f9f9;
    }
    [data-slot]::before {
      content: attr(data-slot);
      position: absolute;
      font-size: 12px;
      font-weight: bold;
      color: #666;
      z-index: 0;
    }

    /* container */
    .slots-container {
      font-family: monospace;
      font-size: 18px;
      padding: 16px;
      background: #f0f0f0;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin: 8px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      gap: 4px;
    }

    .formula-text {
      font-size: 18px;
      margin: 0 2px;
    }
  `,e}function q(n,t){const e=document.createElement("div");return e.dataset.slot=n,e.ondrop=t,e.ondragover=s=>s.preventDefault(),e}function j(n,t,e){const s=n.querySelector("[data-band]");s&&s.remove();const a=N(t,e);n.appendChild(a)}function ct(n,t,e,s){var i,o;const a=H(e,t);(i=n.control)==null||i.appendChild(a),W(n,e,s),(o=n.control)==null||o.appendChild(document.createElement("hr")),dt(n,e,s)}function dt(n,t,e){var a;const s=document.createElement("div");s.classList.add("slots-container"),["R","G","B"].forEach((i,o)=>{const c=q(i,h=>{var p;h.preventDefault();const l=(p=h.dataTransfer)==null?void 0:p.getData("band");if(!l)return;const d=t.indexOf(l),u=e[d]||l;j(c,l,u);const m=n.getValue()||[];m[o]=l,n.setValue(m),n.onChange(!0)});ut(c),s.appendChild(c),setTimeout(()=>{const h=n.getValue();if(h!=null&&h[o]){const l=h[o],d=t.indexOf(l),u=e[d]||l;l&&j(c,l,u)}})}),(a=n.control)==null||a.appendChild(s)}function ut(n){switch(n.style.border="2px dashed",n.dataset.slot){case"R":{n.style.borderColor="#F88",n.style.background="#FEE";break}case"G":{n.style.borderColor="#8F8",n.style.background="#EFE";break}case"B":{n.style.borderColor="#88F",n.style.background="#EEF";break}}}const $=/\{\{([^}]+)\}\}/g;function ft(n,t,e,s){var o,r;const a=n.schema.formulaTemplate||"{{A}}",i=H(e,t);(o=n.control)==null||o.appendChild(i),W(n,e,s),(r=n.control)==null||r.appendChild(document.createElement("hr")),mt(n,a,e,s)}function pt(n){const t=n.schema.formulaTemplate||"{{A}}",e=n.variableValues||{};return t.replace($,(s,a)=>e[a.trim()]||s)}function mt(n,t,e,s){var o;const a=document.createElement("div");a.classList.add("slots-container"),n.variableSlots={},t.split(/(\{\{[^}]+\}\})/).forEach(r=>{if(!r)return;if(!r.match($)){if(r=r.trim(),r){const l=document.createElement("span");l.classList.add("formula-text"),l.textContent=r,a.appendChild(l)}return}const c=r.replace(/[{}]/g,"").trim(),h=q(c,l=>{var p;l.preventDefault();const d=(p=l.dataTransfer)==null?void 0:p.getData("band");if(!d)return;const u=e.indexOf(d),m=s[u]||d;n.variableValues[c]=d,M(n,c,d,m),n.value=pt(n),n.onChange(!0)});a.appendChild(h),n.variableSlots[c]||(n.variableSlots[c]=[]),n.variableSlots[c].push(h)}),(o=n.control)==null||o.appendChild(a),setTimeout(()=>{bt(n)})}function bt(n){n.variableValues&&n.variableSlots&&Object.keys(n.variableValues).forEach(t=>{var r;const e=n.variableValues[t],s=n.bands||n.schema.enum||[],a=n.bandTitles||((r=n.schema.options)==null?void 0:r.enum_titles)||s,i=s.indexOf(e),o=a[i]||e;M(n,t,e,o)})}function M(n,t,e,s){n.variableSlots&&n.variableSlots[t]&&n.variableSlots[t].forEach(a=>{j(a,e,s)})}class B extends rt{constructor(){super(...arguments);y(this,"variableSlots",{});y(this,"variableValues",{});y(this,"bands",[]);y(this,"bandTitles",[]);y(this,"colors",[])}build(){var s,a,i,o,r;super.build();const e=this.schema.format||"bands";this.bands=e==="bands"?(s=this.schema.items)==null?void 0:s.enum:this.schema.enum||[],this.bandTitles=e==="bands"?(i=(a=this.schema.items)==null?void 0:a.options)==null?void 0:i.enum_titles:this.schema.options.enum_titles||this.bands,this.colors=lt(this.schema,e),this.control=document.createElement("div"),this.control.classList.add("form-control"),e==="bands"?ct(this,this.colors,this.bands,this.bandTitles):e==="bands-arithmetic"&&ft(this,this.colors,this.bands,this.bandTitles),this.label=document.createElement("span"),this.label.classList.add("je-header"),this.label.textContent=this.schema.title??"",(o=this.container)==null||o.appendChild(this.label),(r=this.container)==null||r.appendChild(this.control)}}const gt=[{type:"array",format:"bands",func:B},{type:"string",format:"bands-arithmetic",func:B}],yt="eox-layercontrol[data-v-219e33f9]{overflow:auto}",_t={class:"d-flex flex-column"},Ct=["for",".customEditorInterfaces"],kt={key:0,class:"mt-2 mb-2"},xt={__name:"EodashLayerControl",props:{map:{type:String,default:"first"},tools:{type:Array,default:()=>["datetime","info","config","legend","opacity"]},title:{type:String||Boolean,default:"Layers"},cssVars:{type:Object}},async setup(n){let t,e;customElements.get("eox-layercontrol")||([t,e]=F(()=>L(()=>import("./main.DxhBHdyj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),await t,e()),customElements.get("eox-jsonform")||([t,e]=F(()=>L(()=>import("./main.CIgxcoAQ.js"),__vite__mapDeps([12,1,2,13,8,14,15,16,11,17]))),await t,e());const s=n,a={tools:s.tools,style:s.cssVars},{selectedCompareStac:i,selectedStac:o}=tt(et()),r=U(()=>s.map==="second"?I.value!==null&&i.value!==null:S.value!==null&&o.value!==null),c=s.map==="second"?st:it,h=s.map==="second"?I:S,l=K(null),d=async f=>{var T;const{layer:x,datetime:z}=f.detail,A=await ot(c,x);let _=[];A&&(_=await A.updateLayerJson(z,x.get("id"),s.map));const b=(T=_==null?void 0:_.find(g=>{var O;return((O=g==null?void 0:g.properties)==null?void 0:O.id)==="AnalysisGroup"}))==null?void 0:T.layers;b!=null&&b.length&&(b==null||b.forEach(g=>{g.properties.layerControlExpand=!0,g.properties.layerControlToolsExpand=!0}),h.value.layers=_)};let u;const m=f=>{clearTimeout(u),u=setTimeout(()=>{d(f)},500)},p=f=>{s.map==="second"?nt.value=f.detail.jsonformValue:at.value=f.detail.jsonformValue};return(f,x)=>(w(),E("span",_t,[r.value?(w(),E("eox-layercontrol",X({key:v(h)},a,{for:v(h),".customEditorInterfaces":v(gt),"onDatetime:updated":m,toolsAsList:"true",ref_key:"eoxLayercontrol",ref:l,"on:layerConfig:change":p}),[Q(f.$slots,"layerstitle",{},()=>[D("div",null,[n.title?(w(),E("p",kt,[D("strong",null,Y(n.title),1)])):V("v-if",!0)])],!0)],48,Ct)):V("v-if",!0)]))}},Ht=Z(xt,[["styles",[yt]],["__scopeId","data-v-219e33f9"]]);export{Ht as default};
